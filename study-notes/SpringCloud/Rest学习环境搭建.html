<html>
<head>
  <title>Rest学习环境搭建</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602916 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="6432"/>
<h1>Rest学习环境搭建</h1>

<div>
<span><div><br/></div><div>1、创建Maven父工程</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</div><div>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</div><div>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</div><div><br/></div><div><br/></div><div>    &lt;groupId&gt;org.example&lt;/groupId&gt;</div><div>    &lt;artifactId&gt;SpringCloud&lt;/artifactId&gt;</div><div>    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</div><div>    &lt;modules&gt;</div><div>        &lt;module&gt;springcloud-api&lt;/module&gt;</div><div>        &lt;module&gt;springcloud-provider-dept-8001&lt;/module&gt;</div><div>        &lt;module&gt;springcloud-consumer-dept-80&lt;/module&gt;</div><div>        &lt;module&gt;springcloud-eureka-7001&lt;/module&gt;</div><div>    &lt;/modules&gt;</div><div>    &lt;!--打包方式--&gt;</div><div>    &lt;packaging&gt;pom&lt;/packaging&gt;</div><div><br/></div><div><br/></div><div>    &lt;properties&gt;</div><div>        &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;</div><div>        &lt;lombok.version&gt;1.18.16&lt;/lombok.version&gt;</div><div>        &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;</div><div>        &lt;logback.version&gt;1.3.0-alpha9&lt;/logback.version&gt;</div><div>    &lt;/properties&gt;</div><div><br/></div><div><br/></div><div>    &lt;dependencyManagement&gt;</div><div>        &lt;dependencies&gt;</div><div>            &lt;!--springcloud依赖--&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;</div><div>                &lt;version&gt;Hoxton.SR12&lt;/version&gt;</div><div>                &lt;type&gt;pom&lt;/type&gt;</div><div>                &lt;scope&gt;import&lt;/scope&gt;</div><div>            &lt;/dependency&gt;</div><div>            &lt;!--springboot依赖--&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;</div><div>                &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;</div><div>                &lt;type&gt;pom&lt;/type&gt;</div><div>                &lt;scope&gt;import&lt;/scope&gt;</div><div>            &lt;/dependency&gt;</div><div>            &lt;!--数据库--&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;mysql&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</div><div>                &lt;version&gt;8.0.15&lt;/version&gt;</div><div>                &lt;type&gt;jar&lt;/type&gt;</div><div>            &lt;/dependency&gt;</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>            &lt;!--数据源--&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;druid&lt;/artifactId&gt;</div><div>                &lt;version&gt;1.1.12&lt;/version&gt;</div><div>            &lt;/dependency&gt;</div><div>            &lt;!--springboot mybatis自动配置--&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</div><div>                &lt;version&gt;1.3.0&lt;/version&gt;</div><div>            &lt;/dependency&gt;</div><div><br/></div><div><br/></div><div>            &lt;!--junit--&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;junit&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;junit&lt;/artifactId&gt;</div><div>                &lt;version&gt;${junit.version}&lt;/version&gt;</div><div>                &lt;scope&gt;test&lt;/scope&gt;</div><div>            &lt;/dependency&gt;</div><div><br/></div><div><br/></div><div>            &lt;!--lombok--&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;lombok&lt;/artifactId&gt;</div><div>                &lt;version&gt;${lombok.version}&lt;/version&gt;</div><div>            &lt;/dependency&gt;</div><div>            &lt;!--Log4j--&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;log4j&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;log4j&lt;/artifactId&gt;</div><div>                &lt;version&gt;${log4j.version}&lt;/version&gt;</div><div>            &lt;/dependency&gt;</div><div>            &lt;dependency&gt;</div><div>                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</div><div>                &lt;artifactId&gt;logback-core&lt;/artifactId&gt;</div><div>                &lt;version&gt;${logback.version}&lt;/version&gt;</div><div>            &lt;/dependency&gt;</div><div><br/></div><div><br/></div><div>        &lt;/dependencies&gt;</div><div>    &lt;/dependencyManagement&gt;</div><div><br/></div><div><br/></div><div>&lt;/project&gt;</div></div><div><span>    </span><span>    2、子工程 springcloud-api（实体类）</span><br/></div><div><span><span>    </span><span>    </span><span>    2、1、添加依赖</span><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></div><div><span>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span></div><div><span>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></div><div><span>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span></div><div><span>    &lt;parent&gt;</span></div><div><span>        &lt;artifactId&gt;SpringCloud&lt;/artifactId&gt;</span></div><div><span>        &lt;groupId&gt;org.example&lt;/groupId&gt;</span></div><div><span>        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span></div><div><span>    &lt;/parent&gt;</span></div><div><span>    &lt;packaging&gt;jar&lt;/packaging&gt;</span></div><div><span>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>    &lt;artifactId&gt;springcloud-api&lt;/artifactId&gt;</span></div><div><span>    &lt;!--当前Module自己要用的依赖--&gt;</span></div><div><span>    &lt;dependencies&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;mysql&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;druid&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-maven-plugin --&gt;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>    &lt;/dependencies&gt;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>&lt;/project&gt;</span></div></div><div><span><span>    </span><span>    </span><span>    2、2、创建实体类</span><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>package com.springcloud.pojo;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>import lombok.Data;</span></div><div><span>import lombok.NoArgsConstructor;</span></div><div><span>import lombok.experimental.Accessors;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>import java.io.Serializable;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>/**</span></div><div><span>* @Auther:LiKang</span></div><div><span>* @Date:2021/8/22 -08 -22 -14:13</span></div><div><span>* @Description: com.springcloud.pojo</span></div><div><span>* @version: 1.0</span></div><div><span>*/</span></div><div><span>@Data</span></div><div><span>@NoArgsConstructor//无参构造</span></div><div><span>@Accessors(chain=true)//链式写法</span></div><div><span>public class Dept implements Serializable { //实体类，orm 类表关系映射</span></div><div><span>    private Long deptno;//主键</span></div><div><span>    private String dname;</span></div><div><span>    private String db_source;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>    public Dept(String dname) {</span></div><div><span>        this.dname = dname;</span></div><div><span>    }</span></div><div><span>    /*</span></div><div><span>    *</span></div><div><span>    *   Dept dept =new Dept();</span></div><div><span>    *   dept.setDeptNo(11);</span></div><div><span>    * 链式写法：</span></div><div><span>    *   dept.setDeptNo(11).setDname().setDb_source();</span></div><div><span>    * */</span></div><div><span>}</span></div></div><div><span><br/></span></div><div><span><span>    </span><span>    3、子工程 springcloud-provider-dept-8001（服务的提供者）</span><br/></span></div><div><span><span>    </span><span>    </span><span>    3、1、添加依赖</span><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></div><div><span>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span></div><div><span>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></div><div><span>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span></div><div><span>    &lt;parent&gt;</span></div><div><span>        &lt;artifactId&gt;SpringCloud&lt;/artifactId&gt;</span></div><div><span>        &lt;groupId&gt;org.example&lt;/groupId&gt;</span></div><div><span>        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span></div><div><span>    &lt;/parent&gt;</span></div><div><span>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>    &lt;artifactId&gt;springcloud-provider-dept-8001&lt;/artifactId&gt;</span></div><div><span>    &lt;dependencies&gt;</span></div><div><span>       </span></div><div><span>        &lt;!--需要拿到实体类，需要配置API module--&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.example&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;springcloud-api&lt;/artifactId&gt;</span></div><div><span>            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;!--junit--&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;junit&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;!--test--&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;!--热部署--&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>    &lt;/dependencies&gt;</span></div><div><span>    &lt;!--springboot 打包插件--&gt;</span></div><div><span>    &lt;build&gt;</span></div><div><span>        &lt;plugins&gt;</span></div><div><span>            &lt;plugin&gt;</span></div><div><span>                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></div><div><span>                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span></div><div><span>                &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;</span></div><div><span>            &lt;/plugin&gt;</span></div><div><span>        &lt;/plugins&gt;</span></div><div><span>    &lt;/build&gt;</span></div><div><span>&lt;/project&gt;</span></div></div><div><span>    </span><span>    </span><span>    3、2、添加配置</span><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>server:</div><div>  port: 8001</div><div><br/></div><div><br/></div><div>#mybatis配置</div><div>mybatis:</div><div>  type-aliases-package: com.springcloud.pojo</div><div>  config-location:  classpath:mybatis/mybatis-config.xml</div><div>  mapper-locations: classpath:mybatis/mapper/*.xml</div><div>#spring配置</div><div>spring:</div><div>  application:</div><div>    name: springcloud-provider-dept</div><div>  datasource:</div><div>    type: com.alibaba.druid.pool.DruidDataSource #数据源</div><div>    driver-class-name: com.mysql.cj.jdbc.Driver</div><div>    url: jdbc:mysql://localhost:3306/db01?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=GMT%2B8</div><div>    username: root</div><div>    password: 2019936206</div></div><div><span>    </span><span>    </span><span>    3、3、主启动类</span></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>package com.springcloud;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>import org.springframework.boot.SpringApplication;</span></div><div><span>import org.springframework.boot.autoconfigure.SpringBootApplication;</span></div><div><span>import org.springframework.cloud.netflix.eureka.EnableEurekaClient;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>/**</span></div><div><span>* @Auther:LiKang</span></div><div><span>* @Date:2021/8/22 -08 -22 -15:19</span></div><div><span>* @Description: com.springcloud</span></div><div><span>* @version: 1.0</span></div><div><span>*/</span></div><div><span>//启动类</span></div><div><span>@SpringBootApplication</span></div><div><span>public class DeptProvider_8001 {</span></div><div><span>    public static void main(String[] args) {</span></div><div><span>        SpringApplication.run(DeptProvider_8001.class,args);</span></div><div><span>    }</span></div><div><span>}</span></div></div><br/></div><div><span>    </span></div><div>编写具体的服务：</div><div><img src="Rest学习环境搭建_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><span>    </span><span>    4、springcloud-consumer-dept-80（</span>服务消费者<span>）</span><br/></div><div><span><span>    </span><span>    </span><span>    4、1、添加依赖</span><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></div><div><span>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;</span></div><div><span>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></div><div><span>         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</span></div><div><span>    &lt;parent&gt;</span></div><div><span>        &lt;artifactId&gt;SpringCloud&lt;/artifactId&gt;</span></div><div><span>        &lt;groupId&gt;org.example&lt;/groupId&gt;</span></div><div><span>        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span></div><div><span>    &lt;/parent&gt;</span></div><div><span>    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>    &lt;artifactId&gt;springcloud-consumer-dept-80&lt;/artifactId&gt;</span></div><div><span>    &lt;dependencies&gt;</span></div><div><span>        &lt;!--实体类--&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.example&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;springcloud-api&lt;/artifactId&gt;</span></div><div><span>            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;!--springboot web --&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>        &lt;!--热部署--&gt;</span></div><div><span>        &lt;dependency&gt;</span></div><div><span>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></div><div><span>            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;</span></div><div><span>        &lt;/dependency&gt;</span></div><div><span>    &lt;/dependencies&gt;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>&lt;/project&gt;</span></div></div><div><span>    <span> 4、2、添加配置</span></span></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>server:</span></div><div><span>  port: 80</span></div></div><br/></div><div><span><span>    </span> 4、3、添加REST配置</span></div><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span>package com.springcloud.config;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>import org.springframework.context.annotation.Bean;</span></div><div><span>import org.springframework.context.annotation.Configuration;</span></div><div><span>import org.springframework.web.bind.annotation.RestController;</span></div><div><span>import org.springframework.web.client.RestTemplate;</span></div><div><span><br/></span></div><div><span><br/></span></div><div><span>/**</span></div><div><span>* @Auther:LiKang</span></div><div><span>* @Date:2021/8/22 -08 -22 -22:31</span></div><div><span>* @Description: com.springcloud.config</span></div><div><span>* @version: 1.0</span></div><div><span>*/</span></div><div><span>@Configuration//配置类</span></div><div><span>public class ConfigBean {</span></div><div><span>    @Bean</span></div><div><span>    public RestTemplate getRestTemplate(){</span></div><div><span>        return new RestTemplate();</span></div><div><span>    }</span></div><div><span>}</span></div></div><br/></div><div><span>   </span></div><div><span><span>    </span> 4、4、通过REST调用远程服务（服务提供者的服务）</span><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>package com.springcloud.controller;</div><div><br/></div><div><br/></div><div>import com.springcloud.pojo.Dept;</div><div>import com.sun.org.apache.regexp.internal.RE;</div><div>import org.springframework.beans.factory.annotation.Autowired;</div><div>import org.springframework.web.bind.annotation.PathVariable;</div><div>import org.springframework.web.bind.annotation.RequestMapping;</div><div>import org.springframework.web.bind.annotation.ResponseStatus;</div><div>import org.springframework.web.bind.annotation.RestController;</div><div>import org.springframework.web.client.RestTemplate;</div><div><br/></div><div><br/></div><div>import java.util.List;</div><div><br/></div><div><br/></div><div>/**</div><div>* @Auther:LiKang</div><div>* @Date:2021/8/22 -08 -22 -22:27</div><div>* @Description: com.springcloud.controller</div><div>* @version: 1.0</div><div>*/</div><div>@RestController</div><div>public class DeptConsumerController {</div><div>    //理解：消费者，不应该有server层</div><div>    //RestTemplate .....供我们直接调用就可以了，注册到Spring中</div><div>    //(url,实体：Map，Class&lt;T&gt; reponseType)</div><div>    @Autowired</div><div>    private RestTemplate restTemplate;//提供多种便捷访问远程http服务的方法，简单的restful服务模板</div><div><br/></div><div><br/></div><div>    private static  final String REST_URL_PREFIX=&quot;http://localhost:8001&quot;;</div><div>    @RequestMapping(&quot;/consumer/dept/get/{id}&quot;)</div><div>    public Dept get(@PathVariable(&quot;id&quot;)Long id){</div><div>        return restTemplate.getForObject(REST_URL_PREFIX+&quot;/dept/get/&quot;+id,Dept.class);</div><div>    }</div><div>    @RequestMapping(&quot;/consumer/dept/add&quot;)</div><div>    public boolean add(Dept dept){</div><div>        return restTemplate.postForObject(REST_URL_PREFIX+&quot;/dept/add&quot;,dept,Boolean.class);</div><div>    }</div><div>    @RequestMapping(&quot;/consumer/dept/list&quot;)</div><div>    public List&lt;Dept&gt; queryAll(){</div><div>        return restTemplate.getForObject(REST_URL_PREFIX+&quot;/dept/list&quot;,List.class);</div><div>    }</div><div>}</div></div><div><br/></div><div><span>    4、5、添加启动类</span><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>package com.springcloud;</div><div><br/></div><div><br/></div><div>import org.springframework.boot.SpringApplication;</div><div>import org.springframework.boot.autoconfigure.SpringBootApplication;</div><div><br/></div><div><br/></div><div>import javax.xml.crypto.Data;</div><div><br/></div><div><br/></div><div>/**</div><div>* @Auther:LiKang</div><div>* @Date:2021/8/22 -08 -22 -22:57</div><div>* @Description: com.springcloud</div><div>* @version: 1.0</div><div>*/</div><div>@SpringBootApplication</div><div>public class DeptConsumer_80 {</div><div>    public static void main(String[] args) {</div><div>        SpringApplication.run(DeptConsumer_80.class,args);</div><div>    }</div><div>}</div></div><div><br/></div></span>
</div></body></html> 