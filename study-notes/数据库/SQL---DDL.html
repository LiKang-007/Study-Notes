<html>
<head>
  <title>SQL---DDL</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602916 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1933"/>
<h1>SQL---DDL</h1>

<div>
<span><div><span style="font-weight: bold;">创建表的语法格式：</span></div><div><span style="font-weight: bold;">    creat table 表名(</span></div><div><span style="font-weight: bold;">        字段名1 数据类型,</span></div><div><span style="font-weight: bold;">        字段名2 数据类型,                </span></div><div><span style="font-weight: bold;">        字段名3 数据类型,</span></div><div><span style="font-weight: bold;">);</span></div><div>Mysql字段的数据类型（常见的）：</div><div>            int        整数型(java中的int)</div><div>            bigint    长整型(java中的long)</div><div>            float        浮点型(java中的float double)</div><div>            char        定长字符串（String）</div><div>            varchar    可变字符串 （最多255）</div><div>            date       日期类型 （对应java.sql.Date）</div><div>            BLOB    二进制大对象(存储图片、视频等流媒体信息)</div><div>            CLOB    字符大对象(存储较大文本，比如，可以存储4G的字符串)</div><div><br/></div><div><span style="font-weight: bold;">char和varchar怎么选则？</span></div><div>定长选char，如性别，</div><div>不定长选varchar，如姓名，简介</div><div><br/></div><div><span style="font-weight: bold;">表名数据库中一般以：t_或者tbl_开始</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>创建学生表</div><div>create table t_student(</div><div>    no bigint,</div><div>    name varchar(255),</div><div>    sex char(1) default 1,</div><div>    classno varchar(255),</div><div>    birth char(10)</div><div><br/></div><div>);</div><div><font face="Monaco">sex字段默认值为1.</font></div></div><div><br/></div><div><span style="font-weight: bold;">删除表：</span></div><div>drop table 表名;</div><div><br/></div><div><span style="font-weight: bold;">修改表结构：</span></div><div>alter</div><div><br/></div><div>约束：</div><div>1、非空约束(not null)：约束的字段不能为null。没有表级约束，只能在字段后面加。</div><div>2、唯一约束(unique)：约束的字段不能重复，但可以为null。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="Monaco">列级约束</font></div><div>创建学生表</div><div>create table t_student(</div><div>    no bigint,</div><div>    name varchar(255),</div><div>    sex char(1) default 1,</div><div>    classno varchar(255) unique,</div><div>    birth char(10)</div><div><br/></div><div><br/></div><div>);</div><div>sex字段默认值为1.</div><div>---</div><div><font face="Monaco">多个字段联合约束（表级约束）</font></div><div>---</div><div>创建学生表</div><div>create table t_student(</div><div>    no bigint,</div><div>    name varchar(255),</div><div>    sex char(1) default 1,</div><div>    classno varchar(255),</div><div>    birth char(10)，</div><div>    unique(no,name)</div><div><br/></div><div><br/></div><div>);</div><div>sex字段默认值为1.</div></div><div>3、主键约束(primary key)：约束的字段既不能为null，也不能重复。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>创建学生表</div><div>create table t_student(</div><div>    no bigint primary key auto_increment,</div><div>    name varchar(255),</div><div>    sex char(1) default 1,</div><div>    classno varchar(255),</div><div>    birth char(10)</div><div>);</div><div>auto_increment 自增序列（在插入时，如果不给定具体用户编号，此时根据 auto_increment值进行递增）</div><div><font face="Monaco">注意：删除（所有/部分）数据行之后，</font> auto_increment值并不受影响</div><div>sex字段默认值为1.</div><div><font face="Monaco">主键约束：</font>primary key</div><div><font face="Monaco">主键字段：</font>no</div><div><font face="Monaco">主键值：</font></div><div><font face="Monaco"><br/></font></div><div>表的设计三范式有要求，第一范式要求任何一张表都应该有主键。</div><div><font face="Monaco">主键的作用：</font></div><div><font face="Monaco">主键值是这行记录在这张表中的唯一标识。</font></div><div><font face="Monaco"><b><br/></b></font></div><div><font face="Monaco"><b>主键的分类：</b></font></div><div><font face="Monaco">    根据主键字段的字段数量来划分：</font></div><div><font face="Monaco">        单一主键</font></div><div><font face="Monaco">        复合主键（多个字段联合起来添加一个主键约束）</font></div><div><font face="Monaco">    复合主键不建议使用，因为复合主键违背三范式要求。</font></div><div><font face="Monaco">根据主键的性质来划分：</font></div><div><font face="Monaco">        自然主键：自然数做主键</font></div><div><font face="Monaco">        业务主键：银行卡号，身份证号。（不建议用业务做主键）</font></div><div><font face="Monaco"><b>一张表的主键约束只能有一个。</b></font></div></div><div>4、外键约束(foreign key)：FK</div><div>    外键</div><div><img src="SQL---DDL_files/Image.png" type="image/png" data-filename="Image.png"/></div><div>1、外键可以为null；</div><div>2、外键引用其他表的字段的时候，不一定引用主键，但引用的字段必须具有唯一性（unique约束）。（一般引用主键）</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>外键约束：foreign key</div><div>外键字段：添加有外键约束的字段</div><div><font face="Monaco">外键值：外键字段中的每一个值</font></div><div><br/></div><div>create table t_class(</div><div>    cno int,</div><div>    cname varchar(255),</div><div>    primary key(cno)</div><div>);</div><div>create table t_student(</div><div>    sno int,</div><div>    sname varchar(255),</div><div>    classno int,</div><div>    foreign key(classno) references t_class(cno)</div><div>);</div><div><br/></div></div><div><br/></div><div>删除表，可以先取消外键约束：</div><div><span>    SET FOREIGN_KEY_CHECKS=0;</span><br/></div><div><span><span>    </span><span>    </span>DROP  TABLE IF EXISTS &quot;表名&quot;;</span></div><div><br/></div><div><br/></div><div><br/></div><div>5、检查约束(check)： Oracle支持，mysql不支持。</div><div><br/></div></span>
</div></body></html> 