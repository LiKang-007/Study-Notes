<html>
<head>
  <title>SpringBoot入门</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602916 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3351"/>
<h1>SpringBoot入门</h1>

<div>
<span><div><span style="font-size: 14pt; font-weight: bold;">一、Spring Boot 简介</span></div><div>    Spring boot 是所有基于Spring开发项目的起点。Spring boot 并不是一个新的框架，它默认配置了很多框架的使用方式，就像Maven整合了所有的jar包，spring boot 整合了很多的技术，提供了 javaEE的大整合。</div><div>    <span style="font-size: 12pt; font-weight: bold;">1、1 SpringBoot的学习铺垫和要求</span></div><div><img src="SpringBoot入门_files/Image.png" type="image/png" data-filename="Image.png"/></div><div>    <span style="font-size: 12pt; font-weight: bold;">1、2 SpringBoot主要特性和好处</span></div><div>    在微服务层面来说：springBoot是开发一个一个的项目（服务）的，springCould是管理微服务总的项目（集群：服务的注册监控和管理，负载均衡）。</div><div>    1、SpringBoot Starter：将常用的依赖分组进行了整合，将其合并到一个依赖中，这样就可以一次性添加到项目的Maven或者Gradle构建中；</div><div>    2、使编码变得简单，SpringBoot采用JavaConfig的方式对Spring进行配置，并且提供了大量的注解，极大地提高了工作效率；</div><div>    3、自动配置：SpringBoot的自动配置特性利用了Spring对条件化配置的支持，并且提供了大量的注解，极大地提高了工作效率；</div><div>    4、使部署变得简单，SpringBoot内置了三种Servlet容器，Tomcat，Jetty，undertow，只需要一个Java运行环境就可以运行SpringBoot的项目，SpringBoot的项目可以打成一个jar包；</div><div>    5、现在流行微服务与分布式系统，springboot 就是一个非常好的微服务开发框架，可以使用它快速的搭建起一个系统。同时，也可以使用spring cloud（基于Spring boot 实现的云应用开发工具）来搭建一个分布式架构。</div><div>    <span style="font-size: 12pt; font-weight: bold;">1、3 Spring boot 缺点</span></div><div>        1、将现有或者传统的Spring Framework项目转换成为Spring boot 应用程序是一个非常困难和耗时的过程。它仅仅适用于全新的Spring项目；</div><div>        2、使用简单，学习成本高，精通难。</div><div><span style="font-size: 14pt; font-weight: bold;">二、环境准备</span></div><div>    <span style="font-size: 12pt; font-weight: bold;">2、1 基础配置</span></div><div>        JDK1.8：Spring Boot 推荐JDK1.8及以上；</div><div>        maven3.x：Spring Boot推荐 3.3及以上版本；</div><div>        IDEA；</div><div>        Springboot 2.3.0.RELEASE</div><div>    <span style="font-size: 12pt; font-weight: bold;">2、2 Maven 设置</span></div><div>        1、配置阿里云镜像</div><div>             配置位置：maven文件夹下的settings.xml</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;mirror&gt;</div><div>    &lt;id&gt;nexus-aliyun&lt;/id&gt;</div><div>    &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;</div><div>    &lt;name&gt;Nexus aliyun&lt;/name&gt;</div><div>    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;</div><div>&lt;/mirror&gt;</div></div><div>        2、给maven的settings.xml配置文件的profiles标签添加</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;profile&gt;</div><div>    &lt;id&gt;jdk-1.8&lt;/id&gt;</div><div>    &lt;activation&gt;</div><div>        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;</div><div>        &lt;jdk&gt;1.8&lt;/jdk&gt;</div><div>    &lt;/activation&gt;</div><div>    &lt;properties&gt;</div><div>        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;</div><div>        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;</div><div>        &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt;</div><div>    &lt;/properties&gt;</div><div>&lt;/profile&gt;</div></div><div>    <span style="font-size: 12pt; font-weight: bold;">2、3 IDEA配置</span></div><div>        1、Project Settings--&gt;project---&gt;指定为JDK1.8</div><div>        2、Settings---&gt;搜索 maven--&gt;设置maven安装位置和仓库位置 </div><div>    <span style="font-size: 14pt; font-weight: bold;">三、Spring Boot 第一个案例</span></div><div>        3、1 创建一个maven 父工程 tx_sboot(pom)</div><div>        3、   springboot打包</div><div>        </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;!--springboot 打包插件--&gt;</div><div>&lt;build&gt;</div><div>    &lt;plugins&gt;</div><div>        &lt;plugin&gt;</div><div>            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</div><div>            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</div><div>        &lt;/plugin&gt;</div><div>    &lt;/plugins&gt;</div><div>&lt;/build&gt;</div></div><div>在控制台执行命令：</div><div>    mvn -f 工程名 clean package，<span style="font-size: unset; color: unset; font-family: unset;">或者点击maven 的package按钮；</span></div><div><span style="font-size: unset; color: unset; font-family: unset;">    注意：springboot项目打包一定要配置springboot的打包插件，不加插件直接通过maven打包，运行jar包会报错：</span><span style="font-size: unset; font-family: unset;"><span style="font-family: unset; font-size: unset; color: rgba(0, 0, 0, 0);">                       </span> <span style="font-family: unset; font-size: unset; color: rgb(255, 0, 0);">  </span></span><span style="font-size: unset;"><span style="font-family: unset; font-size: unset; color: rgb(255, 0, 0);">Projrct\SpringBoot\SpringBoot_first\target\SpringBoot_first-1.0-SNAPSHOT.jar中没有主清单属性</span></span></div><div>    </div><div>  <span style="font-size: 12pt; font-weight: bold;">  四、springboot系统构建分析</span></div><div>    </div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">第一个案例做完之后的疑问：</span></div><div>    1、starter是什么？如何去使用starter？</div><div>        start就是一个jar，其中包含一组jar包，这些jar包包含了springboot某些模块的全部jar包。</div><div>        自定义starter规范 ：命名：名称-spring-boot-starter，用来区分。</div><div>    2、Tomcat的内嵌是如何完成的？</div><div>    3、使用了web对应的starter，springmvc如何自动装配？</div><div>    4、如何实现自定义的配置？</div><div><br/></div><div>  <span style="font-size: 12pt; font-weight: bold;">  五、springboot默认扫描器规则</span></div><div><span style="font-size: 12pt; font-weight: bold;"> </span>       springboot 的主启动类所在的package就是扫描器的basepackage。</div><div>      <b><font style="color: rgb(227, 0, 0);">  注意</font></b>：<font style="color: rgb(227, 0, 0);"><i>springboot的主启动类必须放在包下，不能直接放在java目录下，因为java目录不是包目录，而springboot主启动类必须在包下（所在包为扫描器的basepackage）。</i></font></div><div><span style="font-size: 12pt; font-weight: bold; color: unset; font-family: unset;">    六、springboot热部署</span></div><div>        springboot的热部署只是针对于开发，方便开发：在切换 idea窗口的时机部署；在以jar包方式启动时，建议排除热部署。</div><div><br/></div><div>    增加依赖：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;dependencies&gt; </div><div>    &lt;dependency&gt;</div><div>         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;          &lt;optional&gt;true&lt;/optional&gt; </div><div>    &lt;/dependency&gt;</div><div> &lt;/dependencies&gt;</div><div><br/></div></div><div><img src="SpringBoot入门_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-weight: bold;">springboot热部署原理：</span></div><div>    springboot有两个自定义类加载器，一个是base classloader，负责加载项目中不变的类（例如依赖中的类），另一个是restart classloader，用来加载用户代码。当使用热部署时，会监控用户代码（classpath路径下：target/classes），当需要重新部署时，原先的restart classloader会被丢弃，重新创建一个restart classloader加载用户的类，这样比手动重启（全部加载）速度快。</div><div>    设置需要排除热部署的文件路径：</div><div>    在spring boot 配置文件</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>spring.devtools.restart.exclude=static/**,public/**,config/**</div></div><div>    SpringBoot热部署默认排除：/META-INT/maven,/META-INT/resources,/resources,/static/,public,/templates，这些目录默认排除热部署，但是会进行 live reload。</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 