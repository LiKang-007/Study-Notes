<html>
<head>
  <title>软件包管理</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602916 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="5394"/>
<h1>软件包管理</h1>

<div>
<span><div><span style="font-size: 12pt; font-weight: bold;">一、软件包管理简介</span></div><div>        windows下可以运行的软件是.exe,不能在linux上直接运行，linux上可运行的软件是.rpm。</div><div>    1、软件包分类（Linux可以安装的）</div><div>        源码包</div><div>            脚本安装包（通过编写shell脚本，给用户安装提示，本质上也是源码包）</div><div>        二进制包（RPM包、系统默认包 ）</div><div><img src="软件包管理_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div>        源码包和二进制包的区别：</div><div>            1、源码包可以通过编辑器查看到软件的源代码，二进制包是源码包经过编译之后形成的，不能直接看到源代码（除非反编译）；</div><div>            2、源码包安装需要编译，编译需要花费大量的时间，二进制包直接可以运行，比较方便。</div><div>        目前流行的两大Linux系统最主要的区别就是软件包的安装方式不同：</div><div><img src="软件包管理_files/20190323152117755.png" type="image/png" data-filename="20190323152117755.png"/></div><div>二、RPM包管理-rpm命令管理</div><div><br/></div><div>        1、RPM包的命名规则</div><div>                包名：httpd</div><div>                包全名：httpd-2.2.15-15.el6.centos.1.i686.rpm</div><div><img src="软件包管理_files/Image [4].png" type="image/png" data-filename="Image.png"/></div><div>    2、RPM包依赖性</div><div><img src="软件包管理_files/Image [5].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [6].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [7].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [8].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [9].png" type="image/png" data-filename="Image.png"/></div><div>        RPM命令管理-查询（常用）</div><div><img src="软件包管理_files/Image [10].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [11].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [12].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [13].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [14].png" type="image/png" data-filename="Image.png"/></div><div>        校验和文件提取</div><div><br/></div><div><img src="软件包管理_files/Image [15].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [16].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [17].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [18].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [19].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [20].png" type="image/png" data-filename="Image.png"/></div><div>三、RPM包管理-yum在线管理</div><div>        解决手工安装（rpm命令）依赖性问题</div><div>    1、IP地址配置和网络yum源</div><div><img src="软件包管理_files/Image [21].png" type="image/png" data-filename="Image.png"/></div><div>        setup命令修改IP（redhat特有）</div><div>        <img src="软件包管理_files/Image [22].png" type="image/png" data-filename="Image.png"/></div><div>            DHCP 上的*代表使用DHCP服务器自动分配IP，不使用可用空格代替*；</div><div>            在设置完后还需 vi /etc/sysconfig/network-scripts/ifcfg-eth0把ONBOOT=&quot;no&quot;改为ONBOOT=&quot;yes&quot;（目的是启动网卡，centos的网卡默认是不启动的）</div><div>        配置完成之后可以重启Linux或者重启网络服务以更改配置。</div><div><br/></div><div>    配置网络yum源（可以不做任何修改，默认已经配置好了）</div><div><img src="软件包管理_files/Image [23].png" type="image/png" data-filename="Image.png"/></div><div>        解释：所有yum源的配置文件都在/etc/yum.repos.d 下,该目录下以.repo结尾的都是yum源配置文件，CentOS-Base.repo是默认yum源（在线的）CentOS-Debuginfo.repo（修复yum源）CentOS-Media.repo（本地光盘yum源）CentOS-vault.repo（虚拟yum源）。</div><div>            配置网络yum源</div><div>                打开CentOS-Base.repo文件，发现 文件中含有五个相同的部分，每个部分都是一个网络yum源（默认第一个生效）。</div><div>            注意：默认enabled属性值为1；</div><div><img src="软件包管理_files/Image [24].png" type="image/png" data-filename="Image.png"/></div><div>    2、yum命令<span style="font-size: unset; color: unset; font-family: unset;">   </span><img src="软件包管理_files/Image [25].png" type="image/png" data-filename="Image.png" style="color: unset; font-family: unset; font-size: unset;"/></div><div>        注意：这里的关键字是包名，而不是包全明，包名和包全明的概念只在手工配置RPM包部分生效（上一章）；</div><div><img src="软件包管理_files/Image [26].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [27].png" type="image/png" data-filename="Image.png"/></div><div>            <span style="color: rgb(255, 0, 0);">注意：yum -y update 后面要是不加包名，意思是默认升级所有的软件包，连Linux内核也会升级，Linux内核升级之后需要在本地做一些配置才能正常开机。要是远程使用命令</span><span style="color: rgb(255, 0, 0);">yum -y update，会发现Linux系统怎么也开不开机了，永远也无法连接，导致系统的崩溃。</span></div><div><img src="软件包管理_files/Image [28].png" type="image/png" data-filename="Image.png"/></div><div>        注意：使用yum卸载，依赖性 a-----&gt;b------&gt;c,安装的时候是c--》b--》a，卸载的时候会去先卸载 a在卸载b，最后卸载c</div><div>        在使用yum进行卸载的时候，会将依赖的软件包全部卸载，如果卸载的依赖包正好有其他的软件包依赖，就会有一些功能不能使用，如果卸载了Linux内核依赖的软件包，就会导致系统崩溃。</div><div>        服务器配置原则：</div><div>                最小化安装（不安装多余软件），最好不卸载（慎用yum进行更新和卸载）。</div><div>    <img src="软件包管理_files/Image [29].png" type="image/png" data-filename="Image.png"/></div><div>        3、光盘yum源搭建</div><div>            使用本地光盘作为yum源，所有的软件包都从该光盘下载，只能使用光盘中最新版本的软件包。</div><div><img src="软件包管理_files/Image [30].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [31].png" type="image/png" data-filename="Image.png"/></div><div>    注意：Linux配置文件的格式都是十分严格的，在yum配置文件中#需要顶头写。</div><div>                centos8的光盘文件下的AppStream和BaseOS都需要配置yum源文件。</div><div><img src="软件包管理_files/Image [32].png" type="image/png" data-filename="Image.png"/></div><div>四、源码包管理</div><div>        1、源码包和RPM包的区别<img src="软件包管理_files/Image [33].png" type="image/png" data-filename="Image.png" style="color: unset; font-family: unset; font-size: unset;"/></div><div>安装位置不同：</div><div>        RPM包不需要指定安装位置，安装在默认位置中，在RPM包内部指定，源码包需要人为手工指定安装位置。</div><div><img src="软件包管理_files/Image [34].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [35].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [36].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [37].png" type="image/png" data-filename="Image.png"/></div><div>        2、源码包安装过程</div><div><img src="软件包管理_files/Image [38].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [39].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [40].png" type="image/png" data-filename="Image.png"/></div><div>        如果是安装一个陌生的软件包（源码包），需要首先去查看说明。</div><div><img src="软件包管理_files/Image [41].png" type="image/png" data-filename="Image.png"/></div><div><img src="软件包管理_files/Image [42].png" type="image/png" data-filename="Image.png"/></div><div>        如果make（调用gcc进行编译）报错，可以使用 make clean命令对编译文件进行清理。</div><div><img src="软件包管理_files/Image [43].png" type="image/png" data-filename="Image.png"/></div><div>五、脚本安装包与软件包选择</div><div><img src="软件包管理_files/Image [44].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><br/></div></span>
</div></body></html> 