<html>
<head>
  <title>Dubbo第一个案例（直连方式）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602916 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3078"/>
<h1>Dubbo第一个案例（直连方式）</h1>

<div>
<span><div><div><span style="font-size: 12pt; color: rgb(227, 0, 0); font-family: unset; font-weight: bold;">创建服务的提供者</span></div><div><img src="Dubbo第一个案例（直连方式）_files/Image.png" type="image/png" data-filename="Image.png"/></div><div>创建Maven工程，模板为web工程</div><div>工程名为  ：<span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">001-link-userservice-provider</span></div><div>添加依赖</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div><br/></div><div><br/></div><div>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div>  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</div><div>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</div><div><br/></div><div><br/></div><div>  &lt;groupId&gt;org.example&lt;/groupId&gt;</div><div>  &lt;artifactId&gt;link_provider&lt;/artifactId&gt;</div><div>  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</div><div>    &lt;packaging&gt;war&lt;/packaging&gt;</div><div>  &lt;dependencies&gt;</div><div>  &lt;dependency&gt;</div><div>    &lt;groupId&gt;org.springframework&lt;/groupId&gt;</div><div>    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</div><div>    &lt;version&gt;4.3.16.RELEASE&lt;/version&gt;</div><div>  &lt;/dependency&gt;</div><div>  &lt;dependency&gt;</div><div>  &lt;groupId&gt;org.springframework&lt;/groupId&gt;</div><div>  &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</div><div>  &lt;version&gt;4.3.16.RELEASE&lt;/version&gt;</div><div>  &lt;/dependency&gt;</div><div>    &lt;!--dubbo依赖--&gt;</div><div>    &lt;dependency&gt;</div><div>      &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;</div><div>      &lt;artifactId&gt;dubbo&lt;/artifactId&gt;</div><div>      &lt;version&gt;2.7.8&lt;/version&gt;</div><div>    &lt;/dependency&gt;</div><div>    &lt;dependency&gt;</div><div>      &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;</div><div>      &lt;artifactId&gt;curator-framework&lt;/artifactId&gt;</div><div>      &lt;version&gt;2.8.0&lt;/version&gt;</div><div>    &lt;/dependency&gt;</div><div>    &lt;dependency&gt;</div><div>      &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;</div><div>      &lt;artifactId&gt;curator-recipes&lt;/artifactId&gt;</div><div>      &lt;version&gt;2.8.0&lt;/version&gt;</div><div>    &lt;/dependency&gt;</div><div>      &lt;dependency&gt;</div><div>          &lt;groupId&gt;junit&lt;/groupId&gt;</div><div>          &lt;artifactId&gt;junit&lt;/artifactId&gt;</div><div>          &lt;version&gt;4.8.2&lt;/version&gt;</div><div>          &lt;scope&gt;compile&lt;/scope&gt;</div><div>      &lt;/dependency&gt;</div><div>  &lt;/dependencies&gt;</div><div>  &lt;build&gt;</div><div>    &lt;plugins&gt;</div><div>      &lt;!--JDK1.8编译插件--&gt;</div><div>      &lt;plugin&gt;</div><div>        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</div><div>        &lt;version&gt;3.1&lt;/version&gt;</div><div>        &lt;configuration&gt;</div><div>          &lt;source&gt;1.8&lt;/source&gt;</div><div>          &lt;target&gt;1.8&lt;/target&gt;</div><div>        &lt;/configuration&gt;</div><div>      &lt;/plugin&gt;</div><div>    &lt;/plugins&gt;</div><div>  &lt;/build&gt;</div><div>&lt;/project&gt;</div></div><div>mvnrepository.com(浏览器可以搜索到：Maven中央仓库)</div><div>插件</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">&lt;build&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    &lt;plugins&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">        &lt;!--JDK1.8编译插件--&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">        &lt;plugin&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">            &lt;version&gt;3.1&lt;/version&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">            &lt;configuration&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">                &lt;source&gt;1.8&lt;/source&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">                &lt;target&gt;1.8&lt;/target&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">            &lt;/configuration&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">        &lt;/plugin&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    &lt;/plugins&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">&lt;/build&gt;</span></div></div><div><br/></div><div>编写服务</div><div>创建一个service接口，并创建该接口的实现类。</div><div><br/></div><div>将服务暴露出去（在Spring配置文件）</div><div>dubbo-userservice-provider.xml</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</div><div>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div>       xmlns:dubbo=&quot;http://dubbo.apache.org/schema/dubbo&quot;</div><div>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd&quot;&gt;</div><div>    &lt;!--服务提供者声明名称：必须保证服务名称的唯一性，它的名称是dubbo内部使用的唯一标识--&gt;</div><div>    &lt;!--使用 http://dubbo.apache.org/schema/dubbo--&gt;</div><div>    &lt;dubbo:application name=&quot;link-provider&quot;/&gt;</div><div>    &lt;!--全局超时配置--&gt;</div><div>    &lt;dubbo:provider timeout=&quot;5000&quot; /&gt;</div><div>    &lt;!--访问服务协议的名称及端口号，dubbo官方使用的是dubbo协议，dubbo协议默认端口号为20880--&gt;</div><div>    &lt;!--</div><div>        name:指定协议的名称</div><div>        port:制定协议的端口号（默认为20880）</div><div>    --&gt;</div><div>    &lt;dubbo:protocol name=&quot;dubbo&quot; port=&quot;20880&quot;/&gt;</div><div><br/></div><div><br/></div><div>    &lt;!--</div><div>        暴露服务接口-&gt;dubbo:service</div><div>        interface:服务接口的全限定名称</div><div>        ref:引用该接口的实现类</div><div>        registry:如果设置为不使用注册中心，则值为N/A</div><div>    --&gt;</div><div>    &lt;dubbo:service interface=&quot;com.service.UserService&quot; ref=&quot;userService&quot; registry=&quot;N/A&quot;/&gt;</div><div>    &lt;!--将接口的实现类加载到spring容器中--&gt;</div><div>    &lt;bean id=&quot;userService&quot; class=&quot;com.service.impl.UserServiceImpl&quot;/&gt;</div><div>&lt;/beans&gt;</div></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 146px;"></col><col style="width: 146px;"></col><col style="width: 114px;"></col><col style="width: 258px;"></col></colgroup><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; text-align: -webkit-match-parent; vertical-align: bottom; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; text-align: -webkit-match-parent; vertical-align: bottom; width: 146px; padding: 8px; border: 1px solid;"><div style="font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">标签</span></div></td><td style="box-sizing: border-box; text-align: -webkit-match-parent; vertical-align: bottom; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">用途</span></div></td><td style="box-sizing: border-box; text-align: -webkit-match-parent; vertical-align: bottom; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">解释</span></div></td></tr><tr style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.05);"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:service/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">服务配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于暴露一个服务，定义服务的元信息，一个服务可以用多个协议暴露，一个服务也可以注册到多个注册中心</span></div></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:reference/&gt;</span><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;"> </span><a href="https://dubbo.apache.org/zh/docs/v2.7/user/configuration/xml/#fn:2" style="vertical-align: super; font-size: 12px; box-sizing: border-box; position: relative; top: -0.5em; color: rgb(49, 118, 217); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; line-height: 0;">2</a></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">引用配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于创建一个远程服务代理，一个引用可以指向多个注册中心</span></div></td></tr><tr style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.05);"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:protocol/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">协议配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于配置提供服务的协议信息，协议由提供方指定，消费方被动接受</span></div></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:application/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">应用配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于配置当前应用信息，不管该应用是提供者还是消费者</span></div></td></tr><tr style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.05);"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:module/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">模块配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于配置当前模块信息，可选</span></div></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:registry/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">注册中心配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于配置连接注册中心相关信息</span></div></td></tr><tr style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.05);"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:monitor/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">监控中心配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于配置连接监控中心相关信息，可选</span></div></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:provider/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">提供方配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">当 ProtocolConfig 和 ServiceConfig 某属性没有配置时，采用此缺省值，可选</span></div></td></tr><tr style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.05);"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:consumer/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">消费方配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">当 ReferenceConfig 某属性没有配置时，采用此缺省值，可选</span></div></td></tr><tr style="box-sizing: border-box;"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:method/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">方法配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于 ServiceConfig 和 ReferenceConfig 指定方法级的配置信息</span></div></td></tr><tr style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.05);"><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div><br/></div></td><td style="box-sizing: border-box; vertical-align: top; width: 146px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="box-sizing: border-box; font-size: 13.6px; overflow-wrap: break-word; word-break: normal; background-color: rgba(0, 0, 0, 0.05); border-radius: 0.25rem; color: rgb(34, 34, 34); font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;liberation mono&quot;, &quot;courier new&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">&lt;dubbo:argument/&gt;</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 114px; padding: 8px; border: 1px solid;"><div style="background-color: rgb(255, 255, 255); font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">参数配置</span></div></td><td style="box-sizing: border-box; vertical-align: top; width: 258px; padding: 8px; border: 1px solid;"><div style="font-size: 16px;"><span style="font-size: 16px; color: rgb(34, 34, 34); font-family: &quot;open sans&quot;, -apple-system, BlinkMacSystemFont, &quot;segoe ui&quot;, Roboto, &quot;helvetica neue&quot;, Arial, sans-serif, &quot;apple color emoji&quot;, &quot;segoe ui emoji&quot;, &quot;segoe ui symbol&quot;; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400;">用于指定方法参数配置</span></div></td></tr></tbody></table><div>在web.xml设置监听器，目的是启用服务</div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">&lt;context-param&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    &lt;param-value&gt;classpath:dubbo-userservice-provider.xml&lt;/param-value&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">&lt;/context-param&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">&lt;listener&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">&lt;/listener&gt;</span></div></div><div><br/></div><div>设置Tomact，发布</div><div>HTTP port 设置为：8081；</div><div>JMX port 设置为 ：1098；</div><div><br/></div><div><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">创建服务的消费者</span></div><div><br/></div><div><img src="Dubbo第一个案例（直连方式）_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: unset;"><br/></span></div><div><span style="font-size: unset; color: unset; font-family: unset;">创建一个Maven工程，模板为web</span></div><div><span style="font-weight: bold;">将</span><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">001-link-userservice-provider（服务的提供者）打成一个jar包，并在link_consumer的pom.xml文件中添加该依赖</span></div><div><img src="Dubbo第一个案例（直连方式）_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div>默认就是jar包，所以注释掉就可以了。</div><div>打包完成后，去掉注释。</div><div><br/></div><div>添加依赖</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div><br/></div><div><br/></div><div>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div>  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</div><div>  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</div><div><br/></div><div><br/></div><div>  &lt;groupId&gt;org.example&lt;/groupId&gt;</div><div>  &lt;artifactId&gt;link_consumer&lt;/artifactId&gt;</div><div>  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</div><div>  &lt;packaging&gt;war&lt;/packaging&gt;</div><div><br/></div><div><br/></div><div>    &lt;dependencies&gt;</div><div>      &lt;!--Spring依赖--&gt;</div><div>      &lt;dependency&gt;</div><div>        &lt;groupId&gt;org.springframework&lt;/groupId&gt;</div><div>        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</div><div>        &lt;version&gt;4.3.16.RELEASE&lt;/version&gt;</div><div>      &lt;/dependency&gt;</div><div>      &lt;!--SpringMVC 依赖--&gt;</div><div>      &lt;dependency&gt;</div><div>        &lt;groupId&gt;org.springframework&lt;/groupId&gt;</div><div>        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</div><div>        &lt;version&gt;4.3.16.RELEASE&lt;/version&gt;</div><div>      &lt;/dependency&gt;</div><div>      &lt;!--dubbo依赖--&gt;</div><div>      &lt;dependency&gt;</div><div>        &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;</div><div>        &lt;artifactId&gt;dubbo&lt;/artifactId&gt;</div><div>        &lt;version&gt;2.7.8&lt;/version&gt;</div><div>      &lt;/dependency&gt;</div><div>    &lt;!--依赖服务的提供者（link_provider）--&gt;</div><div>      &lt;dependency&gt;</div><div>        &lt;groupId&gt;org.example&lt;/groupId&gt;</div><div>        &lt;artifactId&gt;link_provider&lt;/artifactId&gt;</div><div>        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</div><div>      &lt;/dependency&gt;</div><div><br/></div><div><br/></div><div>      &lt;dependency&gt;</div><div>        &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;</div><div>        &lt;artifactId&gt;curator-framework&lt;/artifactId&gt;</div><div>        &lt;version&gt;2.8.0&lt;/version&gt;</div><div>      &lt;/dependency&gt;</div><div>      &lt;dependency&gt;</div><div>        &lt;groupId&gt;org.apache.curator&lt;/groupId&gt;</div><div>        &lt;artifactId&gt;curator-recipes&lt;/artifactId&gt;</div><div>        &lt;version&gt;2.8.0&lt;/version&gt;</div><div>      &lt;/dependency&gt;</div><div>    &lt;/dependencies&gt;</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>&lt;/project&gt;</div></div><div><br/></div><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">在resources目录创建核心配置文件</span></div><div><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">dubbo-userservice-consumer.xml（spring配置文件）</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</div><div>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div>       xmlns:dubbo=&quot;http://dubbo.apache.org/schema/dubbo&quot;</div><div>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://dubbo.apache.org/schema/dubbo http://dubbo.apache.org/schema/dubbo/dubbo.xsd &quot;&gt;</div><div>    &lt;!--声明服务提供者的名称：保证唯一性--&gt;</div><div><br/></div><div><br/></div><div>    &lt;dubbo:application name=&quot;link-consumer&quot;/&gt;</div><div>    &lt;!--全局超时配置--&gt;</div><div>    &lt;dubbo:consumer timeout=&quot;5000&quot; /&gt;</div><div>    &lt;!--引用远程服务接口：</div><div>        id：远程服务接口对象的名称</div><div>        interface：调用远程接口的全限定类名</div><div>        url：访问服务接口的地址</div><div>        registry：不使用注册中心，值为：N/A</div><div><br/></div><div><br/></div><div>    --&gt;</div><div>    &lt;dubbo:reference id=&quot;userService&quot;</div><div>                     interface=&quot;com.service.UserService&quot;</div><div>                     url=&quot;dubbo://127.0.0.1:20880&quot;</div><div>                     registry=&quot;N/A&quot;/&gt;</div><div><br/></div><div><br/></div><div>&lt;/beans&gt;</div></div><div>配置SpringMVC的配置文件</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div>&lt;!--SpringMVC配置文件--&gt;</div><div>&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</div><div>       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div>       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</div><div>       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;</div><div>       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;</div><div>    &lt;!--扫描组件--&gt;</div><div>    &lt;context:component-scan base-package=&quot;com.web&quot;/&gt;</div><div>    &lt;!--配置注解驱动--&gt;</div><div>    &lt;mvc:annotation-driven/&gt;</div><div>    &lt;!--配置视图解析器--&gt;</div><div>    &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;</div><div>        &lt;property name=&quot;prefix&quot; value=&quot;/&quot;/&gt;</div><div>        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;</div><div>    &lt;/bean&gt;</div><div><br/></div><div><br/></div><div>&lt;/beans&gt;</div></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;">在web.xml设置中央调度器</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</div><div>&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</div><div>         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</div><div>         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;</div><div>         version=&quot;3.1&quot;&gt;</div><div><br/></div><div><br/></div><div>  &lt;!--设置监听器，启动Spring容器--&gt;</div><div>  &lt;context-param&gt;</div><div>    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</div><div>    &lt;param-value&gt;classpath:dubbo-userservice-consumer.xml&lt;/param-value&gt;</div><div>  &lt;/context-param&gt;</div><div>  &lt;listener&gt;</div><div>    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</div><div>  &lt;/listener&gt;</div><div>  &lt;!--配置中央控制器--&gt;</div><div>  &lt;servlet&gt;</div><div>    &lt;servlet-name&gt;myweb&lt;/servlet-name&gt;</div><div>    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;</div><div>    &lt;init-param&gt;</div><div>      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</div><div>      &lt;param-value&gt;classpath:application.xml&lt;/param-value&gt;</div><div>    &lt;/init-param&gt;</div><div>    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</div><div>  &lt;/servlet&gt;</div><div>  &lt;servlet-mapping&gt;</div><div>    &lt;servlet-name&gt;myweb&lt;/servlet-name&gt;</div><div>    &lt;url-pattern&gt;/&lt;/url-pattern&gt;</div><div>  &lt;/servlet-mapping&gt;</div><div><br/></div><div><br/></div><div>&lt;/web-app&gt;</div></div><div><br/></div><div>实体类实现序列化</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public class User implements Serializable{</div><div>}</div></div><div>配置完成之后一直出错：</div><div>消费者报错日志：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>24-Jul-2021 21:51:49.881 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext</div><div>24-Jul-2021 21:51:52.911 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath</div><div>24-Jul-2021 21:51:53.137 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext</div><div>24-Jul-2021 21:51:54.126 淇℃伅 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath</div><div>24-Jul-2021 21:51:54.402 淇℃伅 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext</div><div>24-Jul-2021 21:51:54.948 涓ラ噸 [Catalina-utility-2] org.apache.catalina.core.StandardContext.listenerStart 寮傚父灏嗕笂涓嬫枃鍒濆鍖栦簨浠跺彂閫佸埌绫荤殑渚﹀惉鍣ㄥ疄渚�.[org.springframework.web.context.ContextLoaderListener]</div><div>    com.alibaba.dubbo.rpc.RpcException: Fail to start server(url: dubbo://192.168.1.7:20881/com.service.UserService?anyhost=true&amp;application=link-provider&amp;bind.ip=192.168.1.7&amp;bind.port=20881&amp;channel.readonly.sent=true&amp;codec=dubbo&amp;default.timeout=5000&amp;dubbo=2.6.2&amp;generic=false&amp;heartbeat=60000&amp;interface=com.service.UserService&amp;methods=queryUser&amp;pid=31620&amp;side=provider×tamp=1627134714531) Failed to bind NettyServer on /192.168.1.7:20881, cause: Failed to bind to: /0.0.0.0:20881</div><div>        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol.createServer(DubboProtocol.java:286)</div><div>        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol.openServer(DubboProtocol.java:263)</div><div>        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol.export(DubboProtocol.java:250)</div><div>        at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper.export(ProtocolFilterWrapper.java:100)</div><div>        at com.alibaba.dubbo.rpc.protocol.ProtocolListenerWrapper.export(ProtocolListenerWrapper.java:57)</div><div>        at com.alibaba.dubbo.qos.protocol.QosProtocolWrapper.export(QosProtocolWrapper.java:56)</div><div>        at com.alibaba.dubbo.rpc.Protocol$Adaptive.export(Protocol$Adaptive.java)</div><div>        at com.alibaba.dubbo.config.ServiceConfig.doExportUrlsFor1Protocol(ServiceConfig.java:513)</div><div>        at com.alibaba.dubbo.config.ServiceConfig.doExportUrls(ServiceConfig.java:358)</div><div>        at com.alibaba.dubbo.config.ServiceConfig.doExport(ServiceConfig.java:317)</div><div>        at com.alibaba.dubbo.config.ServiceConfig.export(ServiceConfig.java:216)</div><div>        at com.alibaba.dubbo.config.spring.ServiceBean.onApplicationEvent(ServiceBean.java:123)</div><div>        at com.alibaba.dubbo.config.spring.ServiceBean.onApplicationEvent(ServiceBean.java:49)</div><div>        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)</div><div>        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)</div><div>        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)</div><div>        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:393)</div><div>        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:347)</div><div>        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:883)</div><div>        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)</div><div>        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)</div><div>        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)</div><div>        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)</div><div>        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4685)</div><div>        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5146)</div><div>        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)</div><div>        at org.apache.catalina.core.StandardContext.reload(StandardContext.java:3758)</div><div>        at org.apache.catalina.startup.HostConfig.reload(HostConfig.java:1403)</div><div>        at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1376)</div><div>        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1611)</div><div>        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:305)</div><div>        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)</div><div>        at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1151)</div><div>        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1353)</div><div>        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1357)</div><div>        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1335)</div><div>        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)</div><div>        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)</div><div>        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)</div><div>        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)</div><div>        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)</div><div>        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)</div><div>        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)</div><div>        at java.lang.Thread.run(Thread.java:748)</div><div>    Caused by: com.alibaba.dubbo.remoting.RemotingException: Failed to bind NettyServer on /192.168.1.7:20881, cause: Failed to bind to: /0.0.0.0:20881</div><div>        at com.alibaba.dubbo.remoting.transport.AbstractServer.&lt;init&gt;(AbstractServer.java:68)</div><div>        at com.alibaba.dubbo.remoting.transport.netty.NettyServer.&lt;init&gt;(NettyServer.java:61)</div><div>        at com.alibaba.dubbo.remoting.transport.netty.NettyTransporter.bind(NettyTransporter.java:32)</div><div>        at com.alibaba.dubbo.remoting.Transporter$Adaptive.bind(Transporter$Adaptive.java)</div><div>        at com.alibaba.dubbo.remoting.Transporters.bind(Transporters.java:56)</div><div>        at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchanger.bind(HeaderExchanger.java:44)</div><div>        at com.alibaba.dubbo.remoting.exchange.Exchangers.bind(Exchangers.java:70)</div><div>        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol.createServer(DubboProtocol.java:284)</div><div>        ... 43 more</div><div>    Caused by: org.jboss.netty.channel.ChannelException: Failed to bind to: /0.0.0.0:20881</div><div>        at org.jboss.netty.bootstrap.ServerBootstrap.bind(ServerBootstrap.java:303)</div><div>        at com.alibaba.dubbo.remoting.transport.netty.NettyServer.doOpen(NettyServer.java:93)</div><div>        at com.alibaba.dubbo.remoting.transport.AbstractServer.&lt;init&gt;(AbstractServer.java:63)</div><div>        ... 50 more</div><div>    Caused by: java.net.BindException: Address already in use: bind</div><div>        at sun.nio.ch.Net.bind0(Native Method)</div><div>        at sun.nio.ch.Net.bind(Net.java:433)</div><div>        at sun.nio.ch.Net.bind(Net.java:425)</div><div>        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)</div><div>        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)</div><div>        at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink.bind(NioServerSocketPipelineSink.java:148)</div><div>        at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink.handleServerSocket(NioServerSocketPipelineSink.java:100)</div><div>        at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink.eventSunk(NioServerSocketPipelineSink.java:74)</div><div>        at org.jboss.netty.channel.Channels.bind(Channels.java:468)</div><div>        at org.jboss.netty.channel.AbstractChannel.bind(AbstractChannel.java:192)</div><div>        at org.jboss.netty.bootstrap.ServerBootstrap$Binder.channelOpen(ServerBootstrap.java:348)</div><div>        at org.jboss.netty.channel.Channels.fireChannelOpen(Channels.java:176)</div><div>        at org.jboss.netty.channel.socket.nio.NioServerSocketChannel.&lt;init&gt;(NioServerSocketChannel.java:85)</div><div>        at org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory.newChannel(NioServerSocketChannelFactory.java:142)</div><div>        at org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory.newChannel(NioServerSocketChannelFactory.java:90)</div><div>        at org.jboss.netty.bootstrap.ServerBootstrap.bind(ServerBootstrap.java:282)</div><div>        ... 52 more</div><div>24-Jul-2021 21:51:54.951 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext</div><div>24-Jul-2021 21:51:56.276 淇℃伅 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.ApplicationContext.log Initializing Spring FrameworkServlet 'myweb'</div><div>24-Jul-2021 21:51:58.305 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath</div><div>24-Jul-2021 21:51:58.455 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext</div><div>24-Jul-2021 21:51:59.440 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Initializing Spring FrameworkServlet 'myweb'</div><div>24-Jul-2021 21:52:14.125 涓ラ噸 [http-nio-8082-exec-4] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [myweb] in context with path [/link_consumer_war_exploded] threw exception [Request processing failed; nested exception is com.alibaba.dubbo.rpc.RpcException: Invoke remote method timeout. method: queryUser, provider: dubbo://localhost:20881/com.service.UserService?application=link-consumer&amp;default.timeout=5000&amp;dubbo=2.6.2&amp;interface=com.service.UserService&amp;methods=queryUser&amp;pid=38988®ister.ip=192.168.1.7&amp;revision=1.0-SNAPSHOT&amp;side=consumer×tamp=1627134717232, cause: Waiting server-side response timeout by scan timer. start time: 2021-07-24 21:52:09.049, end time: 2021-07-24 21:52:14.096, client elapsed: 132 ms, server elapsed: 4914 ms, timeout: 5000 ms, request: Request [id=0, version=2.0.0, twoway=true, event=false, broken=false, data=RpcInvocation [methodName=queryUser, parameterTypes=[class java.lang.Integer], arguments=[null], attachments={path=com.service.UserService, interface=com.service.UserService, version=0.0.0, timeout=5000}]], channel: /192.168.1.7:1037 -&gt; /192.168.1.7:20881] with root cause</div><div>    com.alibaba.dubbo.remoting.TimeoutException: Waiting server-side response timeout by scan timer. start time: 2021-07-24 21:52:09.049, end time: 2021-07-24 21:52:14.096, client elapsed: 132 ms, server elapsed: 4914 ms, timeout: 5000 ms, request: Request [id=0, version=2.0.0, twoway=true, event=false, broken=false, data=RpcInvocation [methodName=queryUser, parameterTypes=[class java.lang.Integer], arguments=[null], attachments={path=com.service.UserService, interface=com.service.UserService, version=0.0.0, timeout=5000}]], channel: /192.168.1.7:1037 -&gt; /192.168.1.7:20881</div><div>        at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.returnFromResponse(DefaultFuture.java:220)</div><div>        at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.get(DefaultFuture.java:139)</div><div>        at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.get(DefaultFuture.java:112)</div><div>        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboInvoker.doInvoke(DubboInvoker.java:95)</div><div>        at com.alibaba.dubbo.rpc.protocol.AbstractInvoker.invoke(AbstractInvoker.java:148)</div><div>        at com.alibaba.dubbo.rpc.listener.ListenerInvokerWrapper.invoke(ListenerInvokerWrapper.java:77)</div><div>        at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)</div><div>        at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:72)</div><div>        at com.alibaba.dubbo.rpc.protocol.dubbo.filter.FutureFilter.invoke(FutureFilter.java:54)</div><div>        at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:72)</div><div>        at com.alibaba.dubbo.rpc.filter.ConsumerContextFilter.invoke(ConsumerContextFilter.java:48)</div><div>        at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:72)</div><div>        at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)</div><div>        at com.alibaba.dubbo.common.bytecode.proxy0.queryUser(proxy0.java)</div><div>        at com.web.UserController.getUserService(UserController.java:27)</div><div>        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</div><div>        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</div><div>        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</div><div>        at java.lang.reflect.Method.invoke(Method.java:498)</div><div>        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)</div><div>        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)</div><div>        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)</div><div>        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)</div><div>        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)</div><div>        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)</div><div>        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)</div><div>        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)</div><div>        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)</div><div>        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)</div><div>        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)</div><div>        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)</div><div>        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)</div><div>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)</div><div>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)</div><div>        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)</div><div>        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)</div><div>        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)</div><div>        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)</div><div>        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)</div><div>        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)</div><div>        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)</div><div>        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)</div><div>        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)</div><div>        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)</div><div>        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)</div><div>        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)</div><div>        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)</div><div>        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)</div><div>        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)</div><div>        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)</div><div>        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)</div><div>        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)</div><div>        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)</div><div>        at java.lang.Thread.run(Thread.java:748)</div><div><br/></div><div><br/></div></div><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">提供者日志：</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:23.644 淇℃伅 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:23.878 淇℃伅 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:49.881 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:52.911 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:53.137 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:54.126 淇℃伅 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:54.402 淇℃伅 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:54.948 涓ラ噸 [Catalina-utility-2] org.apache.catalina.core.StandardContext.listenerStart 寮傚父灏嗕笂涓嬫枃鍒濆鍖栦簨浠跺彂閫佸埌绫荤殑渚﹀惉鍣ㄥ疄渚�.[org.springframework.web.context.ContextLoaderListener]</font></div><div><font color="#333333" face="Monaco">    com.alibaba.dubbo.rpc.RpcException: Fail to start server(url: dubbo://192.168.1.7:20881/com.service.UserService?anyhost=true&amp;application=link-provider&amp;bind.ip=192.168.1.7&amp;bind.port=20881&amp;channel.readonly.sent=true&amp;codec=dubbo&amp;default.timeout=5000&amp;dubbo=2.6.2&amp;generic=false&amp;heartbeat=60000&amp;interface=com.service.UserService&amp;methods=queryUser&amp;pid=31620&amp;side=provider×tamp=1627134714531) Failed to bind NettyServer on /192.168.1.7:20881, cause: Failed to bind to: /0.0.0.0:20881</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol.createServer(DubboProtocol.java:286)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol.openServer(DubboProtocol.java:263)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol.export(DubboProtocol.java:250)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper.export(ProtocolFilterWrapper.java:100)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.ProtocolListenerWrapper.export(ProtocolListenerWrapper.java:57)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.qos.protocol.QosProtocolWrapper.export(QosProtocolWrapper.java:56)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.Protocol$Adaptive.export(Protocol$Adaptive.java)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.config.ServiceConfig.doExportUrlsFor1Protocol(ServiceConfig.java:513)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.config.ServiceConfig.doExportUrls(ServiceConfig.java:358)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.config.ServiceConfig.doExport(ServiceConfig.java:317)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.config.ServiceConfig.export(ServiceConfig.java:216)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.config.spring.ServiceBean.onApplicationEvent(ServiceBean.java:123)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.config.spring.ServiceBean.onApplicationEvent(ServiceBean.java:49)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:393)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:347)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:883)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:546)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4685)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5146)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.StandardContext.reload(StandardContext.java:3758)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.startup.HostConfig.reload(HostConfig.java:1403)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1376)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1611)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:305)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1151)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1353)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1357)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1335)</font></div><div><font color="#333333" face="Monaco">        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)</font></div><div><font color="#333333" face="Monaco">        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)</font></div><div><font color="#333333" face="Monaco">        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)</font></div><div><font color="#333333" face="Monaco">        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)</font></div><div><font color="#333333" face="Monaco">        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)</font></div><div><font color="#333333" face="Monaco">        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)</font></div><div><font color="#333333" face="Monaco">        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)</font></div><div><font color="#333333" face="Monaco">        at java.lang.Thread.run(Thread.java:748)</font></div><div><font color="#333333" face="Monaco">    Caused by: com.alibaba.dubbo.remoting.RemotingException: Failed to bind NettyServer on /192.168.1.7:20881, cause: Failed to bind to: /0.0.0.0:20881</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.transport.AbstractServer.&lt;init&gt;(AbstractServer.java:68)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.transport.netty.NettyServer.&lt;init&gt;(NettyServer.java:61)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.transport.netty.NettyTransporter.bind(NettyTransporter.java:32)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.Transporter$Adaptive.bind(Transporter$Adaptive.java)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.Transporters.bind(Transporters.java:56)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchanger.bind(HeaderExchanger.java:44)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.exchange.Exchangers.bind(Exchangers.java:70)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol.createServer(DubboProtocol.java:284)</font></div><div><font color="#333333" face="Monaco">        ... 43 more</font></div><div><font color="#333333" face="Monaco">    Caused by: org.jboss.netty.channel.ChannelException: Failed to bind to: /0.0.0.0:20881</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.bootstrap.ServerBootstrap.bind(ServerBootstrap.java:303)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.transport.netty.NettyServer.doOpen(NettyServer.java:93)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.transport.AbstractServer.&lt;init&gt;(AbstractServer.java:63)</font></div><div><font color="#333333" face="Monaco">        ... 50 more</font></div><div><font color="#333333" face="Monaco">    Caused by: java.net.BindException: Address already in use: bind</font></div><div><font color="#333333" face="Monaco">        at sun.nio.ch.Net.bind0(Native Method)</font></div><div><font color="#333333" face="Monaco">        at sun.nio.ch.Net.bind(Net.java:433)</font></div><div><font color="#333333" face="Monaco">        at sun.nio.ch.Net.bind(Net.java:425)</font></div><div><font color="#333333" face="Monaco">        at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:223)</font></div><div><font color="#333333" face="Monaco">        at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:74)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink.bind(NioServerSocketPipelineSink.java:148)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink.handleServerSocket(NioServerSocketPipelineSink.java:100)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink.eventSunk(NioServerSocketPipelineSink.java:74)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.Channels.bind(Channels.java:468)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.AbstractChannel.bind(AbstractChannel.java:192)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.bootstrap.ServerBootstrap$Binder.channelOpen(ServerBootstrap.java:348)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.Channels.fireChannelOpen(Channels.java:176)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.socket.nio.NioServerSocketChannel.&lt;init&gt;(NioServerSocketChannel.java:85)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory.newChannel(NioServerSocketChannelFactory.java:142)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory.newChannel(NioServerSocketChannelFactory.java:90)</font></div><div><font color="#333333" face="Monaco">        at org.jboss.netty.bootstrap.ServerBootstrap.bind(ServerBootstrap.java:282)</font></div><div><font color="#333333" face="Monaco">        ... 52 more</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:54.951 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:56.276 淇℃伅 [RMI TCP Connection(3)-127.0.0.1] org.apache.catalina.core.ApplicationContext.log Initializing Spring FrameworkServlet 'myweb'</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:58.305 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:58.455 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:51:59.440 淇℃伅 [Catalina-utility-2] org.apache.catalina.core.ApplicationContext.log Initializing Spring FrameworkServlet 'myweb'</font></div><div><font color="#333333" face="Monaco">24-Jul-2021 21:52:14.125 涓ラ噸 [http-nio-8082-exec-4] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [myweb] in context with path [/link_consumer_war_exploded] threw exception [Request processing failed; nested exception is com.alibaba.dubbo.rpc.RpcException: Invoke remote method timeout. method: queryUser, provider: dubbo://localhost:20881/com.service.UserService?application=link-consumer&amp;default.timeout=5000&amp;dubbo=2.6.2&amp;interface=com.service.UserService&amp;methods=queryUser&amp;pid=38988®ister.ip=192.168.1.7&amp;revision=1.0-SNAPSHOT&amp;side=consumer×tamp=1627134717232, cause: Waiting server-side response timeout by scan timer. start time: 2021-07-24 21:52:09.049, end time: 2021-07-24 21:52:14.096, client elapsed: 132 ms, server elapsed: 4914 ms, timeout: 5000 ms, request: Request [id=0, version=2.0.0, twoway=true, event=false, broken=false, data=RpcInvocation [methodName=queryUser, parameterTypes=[class java.lang.Integer], arguments=[null], attachments={path=com.service.UserService, interface=com.service.UserService, version=0.0.0, timeout=5000}]], channel: /192.168.1.7:1037 -&gt; /192.168.1.7:20881] with root cause</font></div><div><font color="#333333" face="Monaco">    com.alibaba.dubbo.remoting.TimeoutException: Waiting server-side response timeout by scan timer. start time: 2021-07-24 21:52:09.049, end time: 2021-07-24 21:52:14.096, client elapsed: 132 ms, server elapsed: 4914 ms, timeout: 5000 ms, request: Request [id=0, version=2.0.0, twoway=true, event=false, broken=false, data=RpcInvocation [methodName=queryUser, parameterTypes=[class java.lang.Integer], arguments=[null], attachments={path=com.service.UserService, interface=com.service.UserService, version=0.0.0, timeout=5000}]], channel: /192.168.1.7:1037 -&gt; /192.168.1.7:20881</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.returnFromResponse(DefaultFuture.java:220)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.get(DefaultFuture.java:139)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.remoting.exchange.support.DefaultFuture.get(DefaultFuture.java:112)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.dubbo.DubboInvoker.doInvoke(DubboInvoker.java:95)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.AbstractInvoker.invoke(AbstractInvoker.java:148)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.listener.ListenerInvokerWrapper.invoke(ListenerInvokerWrapper.java:77)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:72)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.dubbo.filter.FutureFilter.invoke(FutureFilter.java:54)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:72)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.filter.ConsumerContextFilter.invoke(ConsumerContextFilter.java:48)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:72)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:52)</font></div><div><font color="#333333" face="Monaco">        at com.alibaba.dubbo.common.bytecode.proxy0.queryUser(proxy0.java)</font></div><div><font color="#333333" face="Monaco">        at com.web.UserController.getUserService(UserController.java:27)</font></div><div><font color="#333333" face="Monaco">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</font></div><div><font color="#333333" face="Monaco">        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</font></div><div><font color="#333333" face="Monaco">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</font></div><div><font color="#333333" face="Monaco">        at java.lang.reflect.Method.invoke(Method.java:498)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)</font></div><div><font color="#333333" face="Monaco">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)</font></div><div><font color="#333333" face="Monaco">        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)</font></div><div><font color="#333333" face="Monaco">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)</font></div><div><font color="#333333" face="Monaco">        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:678)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)</font></div><div><font color="#333333" face="Monaco">        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)</font></div><div><font color="#333333" face="Monaco">        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)</font></div><div><font color="#333333" face="Monaco">        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)</font></div><div><font color="#333333" face="Monaco">        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)</font></div><div><font color="#333333" face="Monaco">        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)</font></div><div><font color="#333333" face="Monaco">        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)</font></div><div><font color="#333333" face="Monaco">        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)</font></div><div><font color="#333333" face="Monaco">        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)</font></div><div><font color="#333333" face="Monaco">        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)</font></div><div><font color="#333333" face="Monaco">        at java.lang.Thread.run(Thread.java:748)</font></div><div><font color="#333333" face="Monaco"><br/></font></div><div><font color="#333333" face="Monaco"><br/></font></div></div><div><br/></div><div>解决方式：（使用dubbo的注意事项（血泪教训））：</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>1、依赖</div><div>由于dubbo已经是Apache维护，所以添加pom时，应该是</div><div>&lt;dependency&gt; </div><div>    &lt;groupId&gt;org.apache.dubbo&lt;/groupId&gt;</div><div>     &lt;artifactId&gt;dubbo&lt;/artifactId&gt; </div><div>    &lt;version&gt;2.7.8&lt;/version&gt;</div><div> &lt;/dependency&gt;</div><div><br/></div><div>2、在dubbo启动的过程中报错误：java.lang.ClassNotFoundException: javassist.ClassPath，调试发现代码：Class&lt;?&gt; clazz = Class.forName(line, true, classLoader)执行加载类com.alibaba.dubbo.common.compiler.support.JavassistCompiler时报：java.lang.NoClassDefFoundError: javassist/ClassPath</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div>需要添加依赖</div><div>        &lt;dependency&gt;</div><div>            &lt;groupId&gt;org.javassist&lt;/groupId&gt;</div><div>            &lt;artifactId&gt;javassist&lt;/artifactId&gt;</div><div>            &lt;version&gt;3.18.1-GA&lt;/version&gt;</div><div>        &lt;/dependency&gt;</div><div>3、注意在写dubbo spring配置文件时，命名空间要是Apache的</div><div>xmlns:dubbo=&quot;http://dubbo.apache.org/schema/dubbo&quot;</div><div>4、分布式开发，实体类必需要进行序列化。</div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="Monaco">疑问：在服务的提供者的dubbo的配置文件·</font>dubbo-userservice-provider.xml，在web.xml中设置监听器启动Spring；但是在服务的消费者的dubbo的配置文件dubbo-userservice-consumer.xml，在web.xml配置中央调度器去配置。</div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="Monaco" style="font-size: 12pt;">分布式开发实体类为什么需要序列化？</font></div><div><font face="Monaco"><br/></font></div><div><font face="Monaco"><b>回答这个问题首先需要了解什么是序列化？</b></font></div><div><font face="Monaco">    序列化针对的是对象，将对象的状态信息（属性）信息转化为可以存储或传输的形式的过程。</font>在序列化期间，对象将其当前状态写入到临时或持久性存储区。以后，可以通过从存储区中读取或反序列化对象的状态，重新创建该对象。</div><div>    <b>序列化的目的</b>：1、以某种形式使自定义对象持久化；</div><div>                2、将对象从一个地方传递到另一个地方；</div><div>                3、使程序更具有可维护性；</div><div>    <b>序列化需要注意的点：</b></div><div>                1、序列化只针对对象的属性，不管方法；</div><div>                2、静态类成员不序列化，因为静态属性是属于类的，序列化针对的是目前的对象属性；</div><div>                3、transient关键字修饰的属性不序列化</div><div>    <b>什么场景需要序列化？</b></div><div>                1、需要对对象进行IO操作持久化</div><div>                2、Mybatis开启了二级缓存且配置文件中readOnly属性默认为false</div><div>                3、在分布式系统中传递当前实体类对象</div><div>   <b> </b><b>private static long serialVersionUID = 1L的意义？</b></div><div>        Java的序列化机制是通过在运行时判断类的serialVersionUID来验证版本一致性的。在进行反序列化时，JVM会把传来的字节流中的serialVersionUID与本地相应实体类的serialVersionUID进行比较，如果相同就认为是一致的，可以进行反序列化，否则就会出现序列化版本不一致的异常。当实现java.io.Serializable接口的实体类没有显式地定义一个名为serialVersionUID，类型为long的变量时，Java序列化机制会根据编译的class自动生成一个serialVersionUID作序列化版本比较用，这种情况下，只有同一次编译生成的class才会生成相同的serialVersionUID 。</div><div>        如果我们不希望通过编译来强制划分软件版本，即实现序列化接口的实体能够兼容先前版本，未作更改的类，就需要显式地定义一个名为serialVersionUID，类型为long的变量，不修改这个变量值的序列化实体都可以相互进行串行化和反串行化</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">       <b> </b></span><b>为什么JAVA不直接让类可以被序列化，而是需要通过实现一个空接口的方式？？</b></div><div>        这里看到一个合理的解释是：还是JAVA考虑到安全性的问题，如果没有一个标记让开发者可以控制序列化的实现，每个类都可以被序列化，那么一些对象的private属性就可以直接在序列化的文件中被看到，这在某些场景下还是被要求私密的。所以添加了一个这样的空接口让开发者自己决定序列化的问题。而这个空接口也仅仅就是标记实现了它的类可以被序列化</div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    </span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">在分布式开发的时候，一台服务器需要调用另一台服务器的服务，该服务调用结束后，可能会返回一个实体类对象，这个实体类对象就需要从服务提供者的服务器传输到服务消费者的服务器。这个实体类就必须去进行序列化。</span></div><div>   <b> </b><b>在分布式系统中传递当前实体类对象，那我不序列化，我转成JSON字符串可不可以啊？</b></div><div><font face="Monaco">            </font>当然是可以的，我们转成字符串，然后我们去瞧瞧Java里string的源码, string就是会实现了序列化接口的；</div><div>   <b> </b><b>我记得我平时一些VO类没有序列化过呀，怎么还是可以接收或者发送那些请求参数的？</b></div><div>        这是因为那个场景下，我们不做特定的修改的话大部分情况下就是使用JSON序列化的方式。像JSON序列化我们还有熟悉的阿里提供的FastJson，谷歌的Gson，还有美团的MSON等众多转码的工具组件。我们这里讨论的只是java提供的序列化方式。这两个目前不要弄混了。</div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>序列化反序列化和json的区别？</div><div><br/></div></div><div><br/></div><div>总结：在直连方式中，消费者拥有提供者的jar包，jar包中就含有service的实现类，消费者可以直接调用jar中的方法，因此就需要引入接口工程。</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 