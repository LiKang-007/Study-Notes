<html>
<head>
  <title>类加载和字节码技术3</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602916 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3759"/>
<h1>类加载和字节码技术3</h1>

<div>
<span><div><img src="类加载和字节码技术3_files/Image.png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [4].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [5].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [6].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 12pt; font-weight: bold;">2、12 练习-finally面试题</span></div><div><img src="类加载和字节码技术3_files/Image [7].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [8].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [9].png" type="image/png" data-filename="Image.png"/></div><div>在finally语句中return，可能会吞掉异常，少了 athrow 字节码（抛出异常）。</div><div><img src="类加载和字节码技术3_files/Image [10].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 12pt; font-weight: bold;">finally面试题2：finally对返回值的影响</span></div><div><img src="类加载和字节码技术3_files/Image [11].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [12].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 12pt; font-weight: bold;">2、13 synchronized</span></div><div><img src="类加载和字节码技术3_files/Image [13].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [14].png" type="image/png" data-filename="Image.png"/></div><div><img src="类加载和字节码技术3_files/Image [15].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 11pt; font-weight: bold;">方法级别的synchronized并不会在字节码中体现。</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">3、编译期处理</span></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 11pt;">所谓的语法糖，其实就是指java编译器把 *.java源码编译为*.class字节码的过程中，自动生成和转化的一些代码，主要是为了减轻程序员的负担，算是java编译器的额外福利。</span></div><div><font style="font-size: 11pt;"><br/></font></div><div><span style="font-size: 11pt;">注意，一下代码的分析，借助了javap工具，idea的反编译功能，idea的jclasslib 等工具。另外，编译器转换的结果直接就是class字节码，只是为了便于阅读，给出了几乎等价的java源码，并不是编译器还会转换出中间的java源码，切记。</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt;">3、1 默认构造器</span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [16].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;">3、2 自动拆装箱</span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [17].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;">3、3 泛型集合取值</span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [18].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [19].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [20].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [21].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [22].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 11pt;">通过反射读取 形参的泛型信息（只能读取到形参的泛型信息和返回值的泛型信息）</span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [23].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;">3、4 可变参数</span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [24].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [25].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [26].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;">3、5 foreach 循环</span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [27].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [28].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [29].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [30].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [31].png" type="image/png" data-filename="Image.png"/></span></div><div><font style="font-size: 14pt;">3、6 switch 字符串</font></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [32].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [33].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [34].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [35].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [36].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [37].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [38].png" type="image/png" data-filename="Image.png"/></span></div><div><font style="font-size: 14pt;">3、7 switch 枚举</font></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [39].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [40].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [41].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [42].png" type="image/png" data-filename="Image.png"/></span></div><div><font style="font-size: 14pt;">3、8 枚举类</font></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [43].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [44].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [45].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [46].png" type="image/png" data-filename="Image.png"/></span></div><div><font style="font-size: 14pt;">3、9 try-with-resources</font></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [47].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [48].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [49].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [50].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [51].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [52].png" type="image/png" data-filename="Image.png"/></span></div><div><font style="font-size: 14pt;">3、10 方法重写时的桥接方法</font></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [53].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [54].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 18.6667px;">其中，synthetic bridge 是JVM被称为桥接方法，仅对java虚拟机可见，并且与原来的public Integer m() </span><span style="font-size: 18.6667px; color: unset; font-family: unset;">没有命名的冲突，可以用下面的反射代码验证：</span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [55].png" type="image/png" data-filename="Image.png"/></span></div><div><font style="font-size: 14pt;">3、11 匿名内部类</font></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [56].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [57].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [58].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [59].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [60].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [61].png" type="image/png" data-filename="Image.png"/></span></div><div><span style="font-size: 14pt;"><img src="类加载和字节码技术3_files/Image [62].png" type="image/png" data-filename="Image.png"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div></span>
</div></body></html> 